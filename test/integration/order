const request = require('supertest');
const app = require('../../app');

require('dotenv').config();

const url = process.env.API_URL

describe("Orders controller", () => {
    describe(`GET ${url}/orders`, () => {
        it('DeberÃ­a retornar todas las ordenes', async (done) => {            
            await request(app)
                .get(`${url}/orders`)
                .set("content-type", "application/json")
                .then(response => {
                    expect(response.statusCode).toBe(200);
                    expect(response.body.length).toBeGreaterThan(0);
                    done();
                }).catch((error) => {
                    console.error('Error en la prueba:', error);
                    throw error;
                })
        });
    });
});